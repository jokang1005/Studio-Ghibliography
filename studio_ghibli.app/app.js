let num = []

////////////////////////////PHOTO CACHE/////////////////////////////
const $princessMononokePhoto = $('<img src="https://upload.wikimedia.org/wikipedia/en/8/8c/Princess_Mononoke_Japanese_poster.png"/>')
const $castleInTheSkyPhoto = $('<img src="https://www.reelviews.net/resources/img/posters/thumbs/castle_poster.jpg"/>')
const $graveOfTheFirefliesPhoto = $('<img src="https://m.media-amazon.com/images/M/MV5BOWNjMTU2OWQtMGYzMi00MWQzLWI1MzItMDRkMjU2MzNkNTI2XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg"/>').width("265px")
const $myNeighborTotoroPhoto = $('<img src="https://upload.wikimedia.org/wikipedia/en/0/02/My_Neighbor_Totoro_-_Tonari_no_Totoro_%28Movie_Poster%29.jpg"/>')
const $kikisDeliveryServicePhoto = $('<img src="https://assets0.dostuffmedia.com/uploads/aws_asset/aws_asset/3234733/7fe351ee-2c2e-469d-8dda-99f096ca9086.jpg"/>').width("265px")
const $onlyYesterdayPhoto = $('<img src="https://upload.wikimedia.org/wikipedia/en/4/46/OYpost.jpg"/>')
const $porcoRossoPhoto = $('<img src="https://images-na.ssl-images-amazon.com/images/I/818IhaeGLYL._SY445_.jpg"/>')
const $pomPokoPhoto = $('<img src="https://m.media-amazon.com/images/M/MV5BODFjMjMyNjktNzc1ZS00NzMwLWJhMDgtNDk0OWNhNTkxNjMzXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_UY268_CR4,0,182,268_AL_.jpg"/>')
const $whisperOfTheHeartPhoto = $('<img src="https://m.media-amazon.com/images/M/MV5BZDg0MWNmNjktMGEwZC00ZDlmLWI1MTUtMDBmNjQzMWM2NjBjXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg"/>').width("265px")
const $myNeighborsTheYamadasPhoto = $('<img src="https://target.scene7.com/is/image/Target/GUEST_a7c82256-5823-4fca-9734-55d02e83d2e8?wid=488&hei=488&fmt=pjpeg"/>')
const $spiritedAwayPHoto = $('<img src="https://m.media-amazon.com/images/M/MV5BMjlmZmI5MDctNDE2YS00YWE0LWE5ZWItZDBhYWQ0NTcxNWRhXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg"/>').width("265px")
const $theCatReturnsPhoto = $('<img src="https://prodimage.images-bn.com/pimages/0826663181593_p0_v1_s550x406.jpg"/>')
const $howlsMovingCastlePhoto = $('<img src="https://m.media-amazon.com/images/M/MV5BNmM4YTFmMmItMGE3Yy00MmRkLTlmZGEtMzZlOTQzYjk3MzA2XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg"/>').width("265px")
const $talesFromEarthseaPhoto = $('<img src="https://upload.wikimedia.org/wikipedia/en/thumb/e/e5/Gedo6sn.jpg/220px-Gedo6sn.jpg"/>').width("265px")
const $ponyoPhoto = $('<img src="https://prodimage.images-bn.com/pimages/0826663181654_p0_v2_s1200x630.jpg"/>').width("265px")
const $arriettyPhoto = $('<img src="https://upload.wikimedia.org/wikipedia/en/e/e7/Karigurashi_no_Arrietty_poster.png"/>')
const $fromUpOnPoppyHillPhoto = $('<img src="https://images-na.ssl-images-amazon.com/images/I/817VldXYslL._SY445_.jpg"/>')
const $theWindRisesPhoto = $('<img src="https://m.media-amazon.com/images/M/MV5BMTU4NDg0MzkzNV5BMl5BanBnXkFtZTgwODA3Mzc1MDE@._V1_.jpg"/>').width("265px")
const $theTaleOfThePrincessKaguyaPhoto = $('<img src="https://m.media-amazon.com/images/M/MV5BNThmMWMyMWMtOWRiNy00MGY0LTg1OTUtNjYzODg2MjdlZGU5XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg"/>')
const $whenMarnieWasTherePhoto = $('<img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/When_Marnie_Was_There.png/220px-When_Marnie_Was_There.png"/>')

const arr = [

///////////////////////////CASTLE IN THE SKY/////////////////////////
    $('<img src="https://lh3.googleusercontent.com/proxy/IADMrx7Tljkyu2ZcObQUJzwi5z9zxjtSFTj162SAbx7nZVNEVYN2Yx_3jC-Frsv4v15cMfL5Txm_vMqZzXV_5opBwcF59PtkCDIfjTCSvoG3EKYdDLcro7IcVh89tZ-d37pl6Juoh1s"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/5/58/Castleinthesky-disneyscreencaps.com-1682.jpg/revision/latest/top-crop/width/360/height/450?cb=20200517192457"/>'),
    $('<img src="https://vignette.wikia.nocookie.net/disney/images/c/c3/5688-2094236141.jpg/revision/latest/top-crop/width/360/height/450?cb=20140915192650"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/d/d5/Muska.jpg/revision/latest/top-crop/width/360/height/450?cb=20181031023656"/>'),
    $('<img src="https://www.anime-planet.com/images/characters/thumbs/uncle-pom-19051.jpg?t=1584048841"/>'),
    $('<img src="https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/hostedimages/1547370964i/26909839.jpg"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/0/0a/Duffi.png/revision/latest?cb=20170504183048"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/8/80/Louis.jpg/revision/latest?cb=20181031025734"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/2/28/Charlies.jpg/revision/latest/scale-to-width-down/325?cb=20181031025246"/>'),
    $('<img src="https://lh3.googleusercontent.com/proxy/x-BrVmQSM_e2FWM27vRg0YDsQHc2-wTJLfBq-vlitst2_vXwE36ikQwuDBfQlnaqL0nooFEGIKlRrCJcdZN8h_oljUxvy-EM6VOA2cNymSCbb1necQNgHlKLku0M7lPIZ6D-dT59wg9Qs3JSx0nS"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/1/17/Eggman_laputa.jpg/revision/latest?cb=20181031021525"/>'),
    $('<img src="https://statici.behindthevoiceactors.com/behindthevoiceactors/_img/chars/thumbs/okami-duffi-laputa-the-castle-in-the-sky-4.48_thumb.jpg"/>'),
/////////////////////PRINCESS MONONOKE CHARACTERS////////////////////
    $('<img src="https://i.pinimg.com/originals/88/27/af/8827af5f693b19f0010b8adafa94a301.jpg"/>'),
    $('<img src="https://www.bluefinbrands.com/media/wysiwyg/brand-landing-pages/princess_mononoke.jpg"/>'),
    $('<img src="https://i.pinimg.com/originals/0c/1f/55/0c1f5599943c2690755c684108f73b7e.jpg"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/7/79/Jigo_%282%29.jpg/revision/latest/scale-to-width-down/350?cb=20181011030826"/>'),
    $('<img src="https://statici.behindthevoiceactors.com/behindthevoiceactors/_img/chars/thumbs/kohroku-princess-mononoke-5_thumb.jpg"/>'),
    $('<img src="https://www.animecharactersdatabase.com/uploads/chars/thumbs/200/5688-2082147945.jpg"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/8/83/Hii-sama.jpg/revision/latest?cb=20181011141901"/>'),
    $('<img src="https://i.pinimg.com/originals/b2/c7/e6/b2c7e6dbc50fc08c7f0ca60933f622ff.gif"/>'),
    $('<img src="https://i.pinimg.com/originals/ba/4b/3b/ba4b3b0bbefd46fafc54f250ee82bcfe.jpg"/>'),
    $('<img src="https://i.pinimg.com/originals/db/e3/bc/dbe3bc3aa213049afeac0d60d1f72f29.jpg"/>'),
/////////////////////KIKI'S DELIVERY SERVICE/////////////////////////
    $('<img src="https://i.pinimg.com/originals/33/25/d9/3325d90043e779964a97c6f668b51950.jpg"/>'),
///////////////////////MY NEIGHBOR TOTORO////////////////////////////
    $('<img src="https://www.anime-planet.com/images/characters/satsuki-kusokabe-2138.jpg?t=1559033412"/>'),
    $('<img src="https://cdn-us.anidb.net/images/main/29227.jpg"/>'),
    $('<img src="https://www.anime-planet.com/images/characters/tatsuo-kusakabe-2142.jpg"/>'),
    $('<img src="https://www.anime-planet.com/images/characters/yasuko-kusakabe-2143.jpg"/>'),
    $('<img src="https://www.anime-planet.com/images/characters/granny-my-neighbor-totoro-3678.jpg?t=1559034846"/>'),
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/c/c3/Kanta.jpg/revision/latest/top-crop/width/360/height/450?cb=20181028000058"/>'),
    $('<img src="https://i.pinimg.com/originals/59/9b/0d/599b0db468f1806c855ee6506e2ae157.gif"/>'),
    $('<img src="https://ctl.s6img.com/society6/img/aW85AdufMP-Rt83uiNeZrB55DDE/w_700/prints/~artwork/s6-0013/a/4079133_11288751/~~/chu--chibi-totoro-pop-art-white-version-prints.jpg"/>'),
    $('<img src="https://i.pinimg.com/originals/a5/92/2e/a5922e26290a5610c5c9a65929654907.jpg"/>'),
    $('<img src="https://vignette.wikia.nocookie.net/myneighbortotoro/images/3/30/Catbus.jpg/revision/latest/scale-to-width-down/340?cb=20140206190410"/>'),
    $('<img src="https://www.anime-planet.com/images/characters/niya-26598.jpg?t=1564949743"/>'),
    $('<img src="https://www.anime-planet.com/images/characters/muta-2248.jpg"/>'),
    $('<img src="https://www.anime-planet.com/images/characters/the-cat-king-2250.jpg"/>'),
    $('<img src="https://i.pinimg.com/originals/42/5f/d5/425fd52f672ffb65d2e0e5800c941c8d.png"/>'),
    $('<img src="https://vignette.wikia.nocookie.net/p__/images/2/27/Haru_Yoshioka.jpg/revision/latest/top-crop/width/360/height/450?cb=20200104081742&path-prefix=protagonist"/>'),
    $('<img src="https://www.anime-planet.com/images/characters/baron-humbert-von-gikkingen-2247.jpg?t=1588709286"/>'),
    $('<img src="https://shortcut-test2.s3.amazonaws.com/uploads/role/attachment/65085/default_natori_2252.jpg"/>'),
///////////////////////////CASTLE IN THE SKY/////////////////////////
    $('<img src="https://static.wikia.nocookie.net/studio-ghibli/images/d/d5/Muska.jpg/revision/latest/top-crop/width/360/height/450?cb=20181031023656"/>'),
/////////////////////PORCO ROSSO CHARACTERS//////////////////////////

    $('<img src="https://cdn1.i-scmp.com/sites/default/files/styles/1200x800/public/images/methode/2016/08/04/f76c586a-546a-11e6-98ca-49b1c9e3ed10_1280x720.JPG?itok=TlS8Ale6"/>'),
///////////////////////////PONYO CHARACTERS//////////////////////////

    $('<img src="https://vignette.wikia.nocookie.net/p__/images/8/86/Sosuke_n%C3%A4rbilden.png/revision/latest?cb=20130227090701&path-prefix=protagonist"/>')
]

/////////////////////ON LOAD AJAX///////////////////////////////////
$(window).on("load",()=> {
        num = [12,13,14,15,16,17,18,19,20,21,22]

    $.ajax({
        url: `https://ghibliapi.herokuapp.com/films/?title=Princess+Mononoke`
    }).then (
        (data) => {
            $('#photo').append($princessMononokePhoto)
            $('#title').html(`Title: ${data[0].title}`)
            $('#description').html(`${data[0].description}`)
            $('#director').html(`Director: ${data[0].director}`)
            $('#producer').html(`Producer: ${data[0].producer}`)
            $('#rt_score').html(`Rating: ${data[0].rt_score}`)
              
        }
    )
///////////////////ON LOAD CAROUSEL///////////////////

    $.ajax({
        url:`https://ghibliapi.herokuapp.com/people/`
    }).then (
        (data) => {
            // $('.character').empty()
            for (let i = 0; i < num.length; i++) {
            let $name = $(`<div id=${data[num[i]].name} class="abc">`)
            $($name).append(`<div>${data[num[i]].name}</div>
            <div>${data[num[i]].gender}</div>
            <div>${data[num[i]].age}</div>`)
            $($name).prepend(arr[num[i]])
            $('.character').append($name)
            }
        }
    )
    console.log ("window loaded")
    // $('h1 img').css("background-color","blue").delay( 2000 ).fadeIn( 400 )
    })

////////////////////ON CLICK CAROUSEL///////////////////////



$('#previous-button').on('click', () => {
    console.log ("CLICK!")
    $('.abc').eq(currentIndex).css('display', 'none')

    if (currentIndex > 0) {
        currentIndex--;
    } else {
        currentIndex = $('.abc').length-1;
    }
    $('.abc').eq(currentIndex).css('display', 'block')
})
let currentIndex = 0;

$('#next-button').on('click',() => {
    console.log ("CLICK CLICK!")

    $('.abc').eq(currentIndex).css('display', 'none')

    if (currentIndex < $('.abc').length-1) {
        currentIndex++;
    } else {
        currentIndex = 0;
    }
    $('.abc').eq(currentIndex).css('display', 'block')
})



//////////////////////////////ON SUBMIT/////////////////////////////
    $('form').on('submit', (event) => {
        event.preventDefault();
        $('#photo').empty()    
        let $text = $('input[type="text"]').val()
        // switch this to switch statement if time allots
        if ($text.toLowerCase() === "castle in the sky") {
            $('#photo').append($castleInTheSkyPhoto)
        } else if ($text.toLowerCase() === "grave of the fireflies") {
            $('#photo').append($graveOfTheFirefliesPhoto)
        } else if ($text.toLowerCase() === "my neighbor totoro") {
            $('#photo').append($myNeighborTotoroPhoto)
        } else if ($text.toLowerCase() === "kiki's delivery service") {
            $('#photo').append($kikisDeliveryServicePhoto)
        } else if ($text.toLowerCase() === "only yesterday") {
            $('#photo').append($onlyYesterdayPhoto)
        } else if ($text.toLowerCase() === "porco rosso") {
            $('#photo').append($porcoRossoPhoto)
        } else if ($text.toLowerCase() === "pom poko") {
            $('#photo').append($pomPokoPhoto)
        } else if ($text.toLowerCase() === "whisper of the heart") {
            $('#photo').append($whisperOfTheHeartPhoto)
        } else if ($text.toLowerCase() === "my neighbors the yamadas") {
            $('#photo').append($myNeighborsTheYamadasPhoto)
        } else if ($text.toLowerCase() === "spirited away") {
            $('#photo').append($spiritedAwayPHoto)
        } else if ($text.toLowerCase() === "the cat returns") {
            $('#photo').append($theCatReturnsPhoto)
        } else if ($text.toLowerCase() === "howl's moving castle") {
            $('#photo').append($howlsMovingCastlePhoto)
        } else if ($text.toLowerCase() === "tales from earthsea") {
            $('#photo').append($talesFromEarthseaPhoto)
        } else if ($text.toLowerCase() === "ponyo") {
            $('#photo').append($ponyoPhoto)
        } else if ($text.toLowerCase() === "arrietty") {
            $('#photo').append($arriettyPhoto)
        } else if ($text.toLowerCase() === "from up on poppy hill") {
            $('#photo').append($fromUpOnPoppyHillPhoto)
        } else if ($text.toLowerCase() === "the wind rises") {
            $('#photo').append($theWindRisesPhoto)
        } else if ($text.toLowerCase() === "the tale of the princess kaguya") {
            $('#photo').append($theTaleOfThePrincessKaguyaPhoto)
        } else if ($text.toLowerCase() === "when marnie was there") {
            $('#photo').append($whenMarnieWasTherePhoto)
        } else if ($text.toLowerCase() === "princess mononoke") {
            $('#photo').append($princessMononokePhoto)
        }
        $.ajax({
            url: `https://ghibliapi.herokuapp.com/films/?title=${$text}`
        }).then (
            (data) => {
                
                $('#title').html(`Title: ${data[0].title}`)
                $('#description').html(`${data[0].description}`)
                $('#director').html(`Director: ${data[0].director}`)
                $('#producer').html(`Producer: ${data[0].producer}`)
                $('#rt_score').html(`Rating: ${data[0].rt_score}`)
            })
        
        /////////////////////ON SUBMIT CAROUSEL//////////////////////
        if ($text.toLowerCase() === "ponyo") {
            num = [42]
        } else if ($text.toLowerCase() === "porco rosso") {
            num = [41]
        } else if ($text.toLowerCase() === "castle in the sky") {
            num = [0,1,2,3,4,5,6,7,8,9,10,11,40]
        } else if ($text.toLowerCase() === "the cat returns") {
            num = [34,35,36,37,38,39]
        } else if ($text.toLowerCase() === "whisper of the heart") {
            num = [34,38]
        } else if ($text.toLowerCase() === "arrietty") {
            num = [33]
        } else if ($text.toLowerCase() === "my neighbor totoro") {
            num = [23,24,25,26,27,28,29,30,31,32]
        } else if ($text.toLowerCase() === "princess mononoke") {
            num = [12,13,14,15,16,17,18,19,20,21,22]
        } else {
            num = []
        }

         $.ajax({
                url: `https://ghibliapi.herokuapp.com/people/`
            }).then (
                (data) => {
                    $('.character').empty()
                    for (let i = 0; i < num.length; i++) {
                    let $name = $(`<div id=${data[num[i]].name} class="abc">`)
                    $($name).append(`<div>${data[num[i]].name}</div>
                    <div>${data[num[i]].gender}</div>
                    <div>${data[num[i]].age}</div>`)
                    $($name).prepend(arr[num[i]])
                    $('.character').append($name)
                    }
                })
    })


/////////////////////////RIGHT BOX///////////////////////////////////
const $hayao = $('<img src="https://www.gstatic.com/tv/thumb/persons/156932/156932_v9_ba.jpg"/>')
const $isao = $('<img src="https://www.gstatic.com/tv/thumb/persons/139971/139971_v9_ba.jpg"/>')
const $kondo = $('<img src="https://i2.lisimg.com/201752/280full.jpg"/>')
const $morita = $('<img src="https://cdn.myanimelist.net/images/voiceactors/1/35839.jpg"/>')
const $goro = $('<img src="https://lh3.googleusercontent.com/proxy/4PB5Wn-fjZBsgBdGumhWcTn3lK1TSRjhdh21XT8z8HhrLRawNv4cBS8GcCq1nJ5IEqbCbnfBYU3hbIH8If7DhdXysQh2zY-SKNMJtOD5NevzmQfGGqk"/>')
const $hiromasa = $('<img src="https://www.gstatic.com/tv/thumb/persons/610013/610013_v9_ba.jpg"/>')
$('.director').append($hayao)
////////////////////RIGHT BOX ON CLICK///////////////////////////////
$('form').on('submit', (event) => {
    event.preventDefault();
    $('.director').empty()    
    let $text = $('input[type="text"]').val()
    // switch this to switch statement if time allots
    if ($text.toLowerCase() === "castle in the sky") {
        $('.director').append($hayao)
    } else if ($text.toLowerCase() === "grave of the fireflies") {
        $('.director').append($isao)
    } else if ($text.toLowerCase() === "my neighbor totoro") {
        $('.director').append($hayao)
    } else if ($text.toLowerCase() === "kiki's delivery service") {
        $('.director').append($hayao)
    } else if ($text.toLowerCase() === "only yesterday") {
        $('.director').append($isao)
    } else if ($text.toLowerCase() === "porco rosso") {
        $('.director').append($hayao)
    } else if ($text.toLowerCase() === "pom poko") {
        $('.director').append($isao)
    } else if ($text.toLowerCase() === "whisper of the heart") {
        $('.director').append($kondo)
    } else if ($text.toLowerCase() === "my neighbors the yamadas") {
        $('.director').append($isao)
    } else if ($text.toLowerCase() === "spirited away") {
        $('.director').append($hayao)
    } else if ($text.toLowerCase() === "the cat returns") {
        $('.director').append($morita)
    } else if ($text.toLowerCase() === "howl's moving castle") {
        $('.director').append($hayao)
    } else if ($text.toLowerCase() === "tales from earthsea") {
        $('.director').append($goro)
    } else if ($text.toLowerCase() === "ponyo") {
        $('.director').append($hayao)
    } else if ($text.toLowerCase() === "arrietty") {
        $('.director').append($hiromasa)
    } else if ($text.toLowerCase() === "from up on poppy hill") {
        $('.director').append($goro)
    } else if ($text.toLowerCase() === "the wind rises") {
        $('.director').append($hayao)
    } else if ($text.toLowerCase() === "the tale of the princess kaguya") {
        $('.director').append($isao)
    } else if ($text.toLowerCase() === "when marnie was there") {
        $('.director').append($hiromasa)
    } else if ($text.toLowerCase() === "princess mononoke") {
        $('.director').append($hayao)
    }
})

////////////////////////////GAME/////////////////////////////////////
// const $right = $('.right')
// const $box = $('.box')


// const makeSquares = () => {
//     for (let i = 0; i < 100; i++) {
//         const $square = $(`<div id= square${i}>`);
//         $square.addClass('square')
//         $($box).append($square)
//     }
// }
// makeSquares();